<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Contact | Madusha Sammani Maha Gamage </title>

    <!-- Your main stylesheet -->
    <link rel="stylesheet" href="styles.css">

    <!-- Leaflet CSS for the map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="index.html">Biography</a></li>
                <li><a href="education.html">Education</a></li>
                <li><a href="experience.html">Experience</a></li>
                <li><a href="publications.html">Publications</a></li>
                <li><a href="projects.html">Portfolio</a></li>
                <li><a href="cv.html">CV</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <!-- Optional section title, like other pages -->
        <div class="section-title">
            <h2>Contact</h2>
        </div>

        <!-- Contact information block -->
        <div class="contact-card">
            <p>I'd love to hear from you. Please feel free to get in touch using the information below.</p>
            <ul class="contact-list">
                <li>
                    <span class="icon">&#x1F4E7;</span>
                    <a href="mailto:mmahagam@gmail.com">mmahagam@gmail.com</a>
                </li>
                <li>
                    <span class="icon">&#x1F517;</span>
                    <a href="https://lk.linkedin.com/in/madusha-sammani-0a8a7281" target="_blank">
                        LinkedIn Profile
                    </a>
                </li>
                <li>
                    <span class="icon">&#x1F4CD;</span>
                    <div class="address">
                        Department of Geography<br>
                        The University of Alabama<br>
                        201 7th Ave<br>
                        Tuscaloosa, AL 35487-0322<br>
                        Office: 2014 Bevill Hall
                    </div>
                </li>
            </ul>
        </div>

        <!-- Map block (shown BELOW the contact info) -->
        <div class="map-container">
            <h3>Find Me on the Map</h3>
            <div id="location-map" style="height:400px; width:100%; border-radius:8px;"></div>
            <p class="map-caption">
                2014 Bevill Hall, Department of Geography, The University of Alabama.
            </p>
        </div>
    </main>

    <!-- Your site-wide JS (if any) -->
    <script src="script.js"></script>

    <!-- Leaflet JS for the map -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const latitude = 33.216822;
            const longitude = -87.543918;
            const locationName = "The University of Alabama (Department of Geography)";

            try {
                const map = L.map('location-map').setView([latitude, longitude], 15);

                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    maxZoom: 19,
                    attribution: 'Â© OpenStreetMap contributors'
                }).addTo(map);

                const marker = L.marker([latitude, longitude]).addTo(map);

                marker.bindPopup(`
                    <div style="text-align:center;">
                        <p style="font-weight:bold; margin-bottom:4px;">${locationName}</p>
                        <p style="font-size:0.9rem;">Department of Geography</p>
                        <p style="font-size:0.9rem;">Tuscaloosa, AL</p>
                        <a href="https://maps.google.com/?q=${latitude},${longitude}"
                           target="_blank"
                           style="color:#1d4ed8; font-weight:500; display:inline-block; margin-top:6px;">
                           View on Google Maps
                        </a>
                    </div>
                `).openPopup();
            } catch (error) {
                console.error("Leaflet Map failed to initialize:", error);
                const mapDiv = document.getElementById('location-map');
                if (mapDiv) {
                    mapDiv.innerHTML =
                        '<p style="text-align:center; padding:2rem; color:#b91c1c;">Error loading interactive map. Coordinates: 33.2168, -87.5439</p>';
                    mapDiv.style.height = 'auto';
                }
            }
        });
    </script>
</body>
</html>
